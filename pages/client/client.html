<link rel="stylesheet" href="../static/styles/client/client.css">

<div id="app" class="main">
    <div class="breadcrumb">
        <a href="">首页</a>
        <span class="line">/</span>
        <span>客户管理</span>
    </div><!-- /.breadcrumb-->

    <div class="opera clearfix">
        <div class="industry">
            <div class="dropdown-wrap">
                <span class="dropdown-label">行业:</span>
                <div class="dropdown">
                    <span class="dropdown-default">请选择--</span>
                    <i class="fa fa-angle-down"></i>
                    <ul>
                        <li v-for="item in industry" v-text="item.text"></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="client-num">
            <div class="input-group">
                <span class="input-group-label">客户编号:</span>
                <input type="text" class="input-group-form">
            </div>
        </div>

        <div class="client-name">
            <div class="input-group">
                <span class="input-group-label">客户名称:</span>
                <input type="text" class="input-group-form">
            </div>
        </div>

        <div class="query-reset pull-right">
            <div class="btn btn-theme" style="margin-right: 20px;">查询</div>
            <div class="btn btn-border pull-right">重置</div>
        </div>
    </div><!-- /.opera -->

    <div class="client">
        <div class="table-opera clearfix">
            <div class="pull-left">
                <div @click="addClient" class="btn btn-theme">
                    <i class="fa fa-plus"></i>
                    <span>添加客户</span>
                </div>
            </div>
            <div class="pull-right">
                <div class="client-page page-css">
                    <div @click="calcPage('client' , 'first')"
                         class="page-css-first"><i class="fa fa-angle-double-left"></i></div>
                    <div @click="calcPage('client' , -1)" class="page-css-prev" style="margin-right: 10px;"><i
                            class="fa fa-angle-left"></i></div>
                    <span>第</span><input @keyup.enter="clientEnter" type="text" style="margin: 0 5px;" v-model="clientPageNum"><span>页，</span>
                    <span>共 {{clientPageSum}} 页，</span>
                    <div @click="calcPage('client' , 1)"
                         class="page-css-next"><i class="fa fa-angle-right  "></i></div>
                    <div @click="calcPage('client' , 'last')" class="page-css-last" style="margin-right: 10px;"><i
                            class="fa fa-angle-double-right"></i></div>
                    <span>显示</span>
                    <span style="margin-left: 5px;">{{clientPageStart}}</span>
                    <span>-</span>
                    <span style="margin-right: 5px;">{{clientPageEnd}}</span>
                    <span>条，</span>
                    <span>共&nbsp; {{clientPageTotal}} &nbsp;条</span>
                </div>
            </div>
        </div>
        <table class="i-table">
            <thead>
                <tr>
                    <th>序号</th>
                    <th>报备名称</th>
                    <th>所属事业部</th>
                    <th>客户所在省份</th>
                    <th>客户编号</th>
                    <th>客户名称</th>
                    <th>行业线</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(item ,index) in client.root"
                    @click="queryClientMsg(item.id)">
                    <td v-text="index +1"></td>
                    <td v-text="item.reportDate"></td>
                    <td v-text="item.salesGroup"></td>
                    <td v-text="item.province"></td>
                    <td v-text="item.customerCode"></td>
                    <td v-text="item.customerName"></td>
                    <td v-text="item.industryLine"></td>
                    <td><i class="fa fa-edit i-text-col" style="font-size: 14px; cursor: pointer;"></i></td>
                </tr>
            </tbody>
        </table>
    </div><!-- /.client -->

    <div class="client-msg">
        <div class="table-opera clearfix">
            <div class="pull-left">
                <div @click="addMsg" class="btn btn-theme">
                    <i class="fa fa-plus"></i>
                    <span>添加客户机要信息</span>
                </div>
            </div>
            <div class="pull-right">
                <div class="client-page page-css">
                    <div class="page-css-first"><i class="fa fa-angle-double-left"></i></div>
                    <div class="page-css-prev" style="margin-right: 10px;"><i class="fa fa-angle-left"></i></div>
                    <span>第</span><input type="text" style="margin: 0 5px;" v-model="clientPageNum"><span>页，</span>
                    <span>共 {{clientPageTotal}} 页，</span>
                    <div class="page-css-next"><i class="fa fa-angle-right  "></i></div>
                    <div class="page-css-last" style="margin-right: 10px;"><i class="fa fa-angle-double-right"></i></div>
                    <span>显示</span>
                    <span style="margin-left: 5px;">{{clientPageStart}}</span>
                    <span>-</span>
                    <span style="margin-right: 5px;">{{clientPageEnd}}</span>
                    <span>条，</span>
                    <span>共&nbsp; {{clientPageTotal}} &nbsp;条</span>
                </div>
            </div>
        </div>

        <table class="i-table">
            <thead>
                <tr>
                    <th>序号</th>
                    <th>负责销售</th>
                    <th>姓名</th>
                    <th>所在部门</th>
                    <th>头衔</th>
                    <th>联系电话</th>
                    <th>邮件</th>
                    <th>地址 </th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(item, index) in clientMsg.root">
                    <td>{{index +1}}</td>
                    <td>{{item.salesStaffName}}</td>
                    <td>{{item.contactName}}</td>
                    <td>{{item.departmentName}}</td>
                    <td>{{item.title}}</td>
                    <td>{{item.telphone}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.address}}</td>
                    <td><i class="fa fa-edit i-text-col" style="font-size: 14px; cursor: pointer;"></i></td>
                </tr>
            </tbody>
        </table>
    </div><!-- /.client-mag -->


    <div class="dialog-wrap"
         :class="{'hide': dialogShow}">
        <div @click="allHide" class="dialog-cover"></div>
        <!-- 添加客户 -->
        <div :class="{'hide': addClientShow}" class="dialog-content">
             <div class="title clearfix">
                 <p class="pull-left">添加客户信息</p>
                 <p @click="allHide" class="dialog-close pull-right" ><i class="fa fa-close"></i></p>
             </div>
            <div class="main">
                <div class="msg-item">
                    <div class="msg-item-left">报备日期：</div>
                    <div class="msg-item-right" v-text="cReportDate"></div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">所属事业部：</div>
                    <div class="msg-item-right">
                        <div class="dropdown-wrap">
                            <div class="dropdown">
                                <span v-model="cIndustryLineText"
                                      class="dropdown-default"></span>
                                <i class="fa fa-angle-down"></i>
                                <ul>
                                    <li v-for="item in cSalesGroupList"
                                        v-text="item.text"
                                        @click="selectGroup(item.code)"></li>
                                </ul>
                            </div>
                        </div><!-- drop -->
                    </div>

                </div><!-- item -->

                <div class="msg-item">
                    <div class="msg-item-left">区域：</div>
                    <div class="msg-item-right">
                        <ul class="area">
                            <li v-for="(item, index) in regionList"
                                v-text="item.text"
                                @click="selectRegion(item.code, index)"
                                :class="{'area-active': index == regionIndex}"
                            ></li>
                        </ul>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">客户所在省份：</div>
                    <div class="msg-item-right">
                        <ul class="area">
                            <li v-for="(item, index) in provinceList"
                                v-text="item.text"
                                @click="selectProvince(item.code, index)"
                                :class="{'area-active': index == provinceIndex}"
                            ></li>
                        </ul>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">客户编号：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input v-model="cCustomerCode" type="text" class="input-group-form">
                        </div>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">客户名称：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input v-model="cCustomerName" type="text" class="input-group-form">
                        </div>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">行业线：</div>
                    <div class="msg-item-right">
                        <div class="dropdown-wrap">
                            <div class="dropdown">
                                <span class="dropdown-default" v-model="cIndustryLineText"></span>
                                <i class="fa fa-angle-down"></i>
                                <ul>
                                    <li v-for="item in industry"
                                        v-text="item.text"
                                        @click="selectIndustry(item.code, item.text)"
                                    ></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left">备注：</div>
                    <div class="msg-item-right">
                        <textarea v-model="cRemark" cols="100" rows="3" style="width: 100%;"></textarea>
                    </div>
                </div>

                <div class="msg-item">
                    <div class="msg-item-left"></div>
                    <div class="msg-item-right">
                        <div @click="addClientConfirm" class="btn btn-theme">提交</div>
                    </div>
                </div>
            </div><!-- /.main -->
        </div>

        <!-- 添加客户机要信息 -->
        <div :class="{'hide': addMsgShow}" class="dialog-content" >
            <div class="title clearfix">
                <p class="pull-left">添加客户机要信息</p>
                <p @click="allHide" class="dialog-close pull-right"><i class="fa fa-close"></i></p>
            </div>
            <div class="main">

                <div class="msg-item">
                    <div class="msg-item-left">销售：</div>
                    <div class="msg-item-right"></div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">客户姓名：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">所在部门：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">头衔：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">联系电话：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">邮件：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">地址：</div>
                    <div class="msg-item-right">
                        <div class="input-group">
                            <input type="text" class="input-group-form">
                        </div>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left">备注：</div>
                    <div class="msg-item-right">
                        <textarea cols="200" rows="3" style="width: 100%;"></textarea>
                    </div>
                </div>
                <div class="msg-item">
                    <div class="msg-item-left"></div>
                    <div class="msg-item-right">
                        <div class="btn btn-theme">提交</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div><!-- /.main -->

<script src="../static/scripts/client/client.js"></script>